# DEC-006: 상품 정렬 옵션 확장 범위

| 항목 | 내용 |
|------|------|
| **상태** | OPEN |
| **관련 도메인** | Products |
| **관련 요구사항** | UC-P01 상품 목록 조회 |

## 기능적 요구사항

상품 목록 조회 시 정렬 옵션의 구현 범위를 결정해야 한다.

## 미결정 사항

| 정렬 옵션 | 구현 여부 | 비고 |
|-----------|-----------|------|
| `latest` (최신순) | **필수** | `created_at DESC` — 단순 인덱스로 해결 |
| `price_asc` (가격 오름차순) | 선택적 확장 | `price ASC` — 단순 인덱스로 해결 |
| `likes_desc` (좋아요 많은순) | 선택적 확장 | 집계 데이터 기반 정렬 — **성능 전략이 다름** |

## 진짜 필요한 것

정렬 옵션을 **쉽게 추가/제거할 수 있는 확장 가능한 정렬 구조**. 특히 `likes_desc`는 집계 데이터 기반 정렬이므로 단순 컬럼 정렬과 성능 전략이 다름.

핵심 질문:
- `likes_desc` 구현 시 좋아요 수를 어디에 저장할 것인가? (매번 COUNT vs 비정규화 컬럼 vs 캐시)
- 정렬 구조를 Enum 기반으로 설계하여 확장성을 확보할 것인가?
- 초기 MVP에서 `latest` 외 정렬이 사용자 경험에 얼마나 영향을 주는가?

## 변경 가능성

- 리뷰 수, 판매량, 할인율 등 새로운 정렬 기준이 추가될 수 있음
- `likes_desc`는 추천/랭킹 기능과 연결될 수 있어 별도 집계 전략이 필요할 수 있음

## 참고

- 현재 API 설계: `GET /api/v1/products?sort=latest&page=0&size=20`
- `latest` 정렬은 필수 구현으로 확정
