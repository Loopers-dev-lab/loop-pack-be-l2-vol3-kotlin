# DEC-002: 좋아요 삭제 전략 (Soft Delete vs Hard Delete)

| 항목 | 내용 |
|------|------|
| **상태** | OPEN |
| **관련 도메인** | Likes |
| **관련 요구사항** | UC-L02 좋아요 취소 |

## 기능적 요구사항

좋아요 취소 시 데이터 삭제 방식을 결정해야 한다.

## 미결정 사항

| 선택지 | 설명 | 장점 | 단점 |
|--------|------|------|------|
| **Soft Delete** | `deleted_at` 플래그로 논리 삭제 (기본 정책) | 이력 보존, 추천/랭킹 데이터 활용 가능, 복구 용이 | Row Explosion — 좋아요/취소 반복 시 테이블 비대화 |
| **Hard Delete** | 물리적 Row 삭제 | 테이블 크기 관리 용이, 조회 성능 유지 | 이력 소실, 분석/추천에 필요한 데이터 손실 |

## 진짜 필요한 것

좋아요 데이터의 **무한 증가를 제어**하면서도, 분석/추천에 필요한 **이력 데이터를 보존**할 수 있는 구조.

고려할 접근:
- Hard Delete + 별도 이력/집계 테이블로 분석 데이터 보존
- Soft Delete + 주기적 배치로 오래된 삭제 데이터 정리
- Hard Delete를 기본으로 하되, 좋아요 수 집계는 카운터 캐시로 관리

## 변경 가능성

- 추천/랭킹 기능 도입 시 좋아요 이력이 필요해질 수 있음

## 참고

- 멘토 피드백: 좋아요처럼 Row가 폭발적으로 쌓이는 경우 Hard Delete 권장 (섹션 3)
